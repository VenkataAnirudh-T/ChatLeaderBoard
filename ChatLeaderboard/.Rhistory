shiny::runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
con <- dbConnect(odbc(),Driver = drvr,Server = srvr,Database = chatsurveydb,UID = uid,PWD = pwd,Port = prt)
userperformance <- dbGetQuery(con,"select UserName,ChatID,Accuracy,TimeTaken  from SurveyorPerformance")
dbDisconnect(con)
drvr <- "SQL Server"
srvr <- "madappdb-1.ckrzvt7cwi79.us-east-1.rds.amazonaws.com"
uid <-  "appapi"
pwd <- "madappsapi"
prt <- 1433
chatsurveydb <- "chatsurveydb"
con <- dbConnect(odbc(),Driver = drvr,Server = srvr,Database = chatsurveydb,UID = uid,PWD = pwd,Port = prt)
userperformance <- dbGetQuery(con,"select UserName,ChatID,Accuracy,TimeTaken  from SurveyorPerformance")
dbDisconnect(con)
userperformance
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),Chats=count()) %>% arrange(Accuracy desc)
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),Chats=count()) %>% arrange(desc(Accuracy))
userperformance %>% group_by(UserName)
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),Chats=count())
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),Chats=n())
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n())
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy))
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken)
runApp('Chatsurveyleaderboard')
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =nrow())
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =1:nrow(UserName))
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =nrow(UserName))
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =nrow(UserName))
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =1:nrow(userperformance))
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =1:nrow(userperformance %>% n_distinct(UserName)))
userperformance %>% n_distinct(UserName)
1:nrow(userperformance %>% distinct(UserName)
)
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =1:nrow(userperformance %>% distinct(UserName)))
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =1:nrow(userperformance %>% distinct(UserName))) %>% select(UserName,Rank)
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp()
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
userperformance
userperformance
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
library(shiny)
runApp('Chatsurveyleaderboard')
shiny::runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
quantile(df, probs = seq(.05, .95, .05), na.rm = TRUE)
quantile(userperformance, probs = seq(.05, .95, .05), na.rm = TRUE)
userperformance
con <- dbConnect(odbc(),Driver = drvr,Server = srvr,Database = chatsurveydb,UID = uid,PWD = pwd,Port = prt)
userperformance <- dbGetQuery(con,"select UserName,ChatID,Accuracy,TimeTaken  from SurveyorPerformance")
dbDisconnect(con)
drvr <- "SQL Server"
srvr <- "madappdb-1.ckrzvt7cwi79.us-east-1.rds.amazonaws.com"
uid <-  "appapi"
pwd <- "madappsapi"
prt <- 1433
chatsurveydb <- "chatsurveydb"
con <- dbConnect(odbc(),Driver = drvr,Server = srvr,Database = chatsurveydb,UID = uid,PWD = pwd,Port = prt)
userperformance <- dbGetQuery(con,"select UserName,ChatID,Accuracy,TimeTaken  from SurveyorPerformance")
dbDisconnect(con)
userperformance
userperformance
quantile(userperformance, probs = seq(.05, .95, .05), na.rm = TRUE)
clrs <- round(seq(255, 40, length.out = 3 + 1), 0) %>%
{paste0("rgb(255,", ., ",", ., ")")}
clrs
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
as.data.frame(cbind(matrix(round(rnorm(50), 3), 10), sample(0:1, 10, TRUE)))
df <- as.data.frame(cbind(matrix(round(rnorm(50), 3), 10), sample(0:1, 10, TRUE)))
quantile(df, probs = seq(.05, .95, .05), na.rm = TRUE)
df
quantile(df, probs = seq(.05, .95, .05), na.rm = TRUE)
userperformance
quantile(userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =1:nrow(userperformance %>% distinct(UserName))) %>% select(Rank), probs = seq(.05, .95, .05), na.rm = TRUE)
runApp('Chatsurveyleaderboard')
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =1:nrow(userperformance %>% distinct(UserName))) %>% select(UserName,Rank) %>%
formatStyle('Rank',
target = 'row',backgroundColor = styleEqual(c(0, 1), c('gray', 'yellow')))
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>% arrange(desc(Accuracy),TimeTaken) %>% mutate(Rank =1:nrow(userperformance %>% distinct(UserName))) %>% select(UserName,Rank)
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp()
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
userperformance %>% group_by(UserName) %>% summarise(SurveyCount=n()) %>% as.character()
userperformance %>% group_by(UserName) %>% summarise(SurveyCount=n()) %>% summarise(cnt=n_distinct(UserName)) %>%  as.character()
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
install.packages("shinyWidgets")
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
userperformance
userperformance
runApp('Chatsurveyleaderboard')
con <- dbConnect(odbc(),Driver = drvr,Server = srvr,Database = chatsurveydb,UID = uid,PWD = pwd,Port = prt)
userperformance <- dbGetQuery(con,"select UserName,ChatID,Accuracy,TimeTaken  from SurveyorPerformance")
userresult <- dbGetQuery(con,"select UserName,ChatID,Timer  from SurveyResult")
dbDisconnect(con)
userresult
userresult %>% group_by(UserName,ChatID) %>%  summarise(timetaken=sum(Timer))
userresult %>% group_by(UserName,ChatID) %>%  summarise(timetaken=sum(Timer)) %>% summarise(avg=mean(timetaken))
userresult %>% group_by(UserName,ChatID) %>%  summarise(timetaken=sum(Timer)) %>% ungroup() %>% summarise(avg=mean(timetaken)) %>%  as.character()
userresult %>% group_by(UserName,ChatID) %>%  summarise(timetaken=sum(Timer)) %>% ungroup() %>% summarise(avg=round(mean(timetaken),2)) %>%  as.character()
round(mean(timetaken)/60,2)
userresult %>% group_by(UserName,ChatID) %>%  summarise(timetaken=sum(Timer)) %>% ungroup() %>% summarise(avg=round(mean(timetaken)/60,2)) %>%  as.character()
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n())
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>%
filter(SurveyCount>=10)
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>%
filter(SurveyCount>=10) %>%
arrange(desc(Accuracy),TimeTaken)
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>%
filter(SurveyCount>=10) %>%
arrange(desc(Accuracy),TimeTaken) %>%
mutate(Rank =1:nrow(userperformance
1:nrow(userperformance %>%
distinct(UserName)
1:nrow(userperformance %>%
distinct(UserName))
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>%
filter(SurveyCount>=10)
runApp('Chatsurveyleaderboard')
usergoldperformance <- userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>%
filter(SurveyCount>=10) %>%
arrange(desc(Accuracy),TimeTaken)
usergoldperformance
usergoldperformance %>% summarise(nrow())
usergoldperformance %>% summarise(nrow(UserName))
usergoldperformance %>% row()
nrow(usergoldperformance)
runApp('Chatsurveyleaderboard')
usergoldperformance %>% summarise(cnt=n_distinct(UserName))
runApp('Chatsurveyleaderboard')
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>%
filter(SurveyCount>=5 & SurveyCount<10)
userperformance
runApp('Chatsurveyleaderboard')
usersilverperformance <- userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>%
filter(SurveyCount>=5 & SurveyCount<10) %>%
arrange(desc(Accuracy),TimeTaken)
usersilverperformance
nrow(usersilverperformance)
usersilverperformance %>% mutate(Rank =1:nrow(userperformance %>%
distinct(UserName))) %>% select(UserName,SurveyCount,Rank) %>% rename('User Name'=UserName,'No. of Surveys Taken'=SurveyCount)
usersilverperformance %>% mutate(Rank =1:nrow(usersilverperformance %>%
distinct(UserName))) %>% select(UserName,SurveyCount,Rank) %>% rename('User Name'=UserName,'No. of Surveys Taken'=SurveyCount)
usersilverperformance %>% summarise(cnt=n_distinct(UserName)) %>%  as.character()
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
userperformance %>% group_by(UserName) %>% summarise(Accuracy=mean(Accuracy),TimeTaken=mean(TimeTaken),SurveyCount=n()) %>%
filter(SurveyCount>=1 & SurveyCount<5) %>%
arrange(desc(Accuracy),TimeTaken)
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
shiny::runApp('Chatsurveyleaderboard')
shiny::runApp('Chatsurveyleaderboard')
userresult
userresult %>% group_by(UserName,ChatID) %>%  summarise(timetaken=sum(Timer)) %>% ungroup() %>% summarise(avg=round(mean(timetaken)/60,2)) %>%  as.character()
con <- dbConnect(odbc::odbc(),Driver = drvr,Server = srvr,Database = chatsurveydb,UID = uid,PWD = pwd,Port = prt)
userperformance <- dbGetQuery(con,"select UserName,ChatID,Accuracy,TimeTaken  from SurveyorPerformance")
userresult <- dbGetQuery(con,"select UserName,ChatID,Timer  from SurveyResult")
dbDisconnect(con)
userresult
userperformance
userresult
runApp('Chatsurveyleaderboard')
userresult %>% group_by(UserName,ChatID) %>%  summarise(timetaken=sum(Timer)) %>% ungroup() %>% summarise(avg=round(mean(timetaken)/60,2)) %>%  as.character()
userresult
runApp('Chatsurveyleaderboard')
shiny::runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
runApp('Chatsurveyleaderboard')
